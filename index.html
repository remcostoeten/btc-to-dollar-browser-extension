<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="ant-spin-nested-loading">
    <div class="ant-spin-container">
        <div class="ant-table">
            <div class="ant-table-container">
                <div class="ant-table-content">
                    <table style="table-layout: auto;">
                        <colgroup></colgroup>
                        <thead class="ant-table-thead">
                        <tr>
                            <th class="ant-table-cell">Contracts</th>
                            <th class="ant-table-cell">Closing Direction</th>
                            <th class="ant-table-cell">Qty</th>
                            <th class="ant-table-cell">Entry Price</th>
                            <th class="ant-table-cell">Exit Price</th>
                            <th class="ant-table-cell">Closed P&amp;L</th>
                            <th class="ant-table-cell">Exit Type</th>
                            <th class="ant-table-cell">Trade Time</th>
                        </tr>
                        </thead>
                        <tbody class="ant-table-tbody">
                        <tr data-row-key="58514024" class="ant-table-row ant-table-row-level-0">
                            <td class="ant-table-cell">BTCUSD</td>
                            <td class="ant-table-cell">Close Short</td>
                            <td class="ant-table-cell">1200</td>
                            <td class="ant-table-cell">49,695.0</td>
                            <td class="ant-table-cell">50,462.0</td>
                            <td class="ant-table-cell"><span style="color: rgb(247, 73, 123);">-0.00036772</span></td>
                            <td class="ant-table-cell">Trade</td>
                            <td class="ant-table-cell">2021-09-03 12:42:19</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script language="js" type="text/javascript" src="init.js"></script>

<script>
    (function () {
        function textBox() {
            $.getJSON("https://api.coindesk.com/v1/bpi/currentprice/usd.json",
                function (data) {
                    var content = document.querySelector('.ant-table-cell span')
                    var scrapedBTCValue = content.textContent;
                    var btcValue = scrapedBTCValue;
                    var myParent = document.querySelector('.ant-table-row-level-0')
                    var box = document.createElement("div");
                    var amountInBtc = scrapedBTCValue; //convert 0.005 btc to usd
                    var exchangeRate = parseInt(data.bpi.USD.rate_float);
                    var amount = amountInBtc * exchangeRate;
                    box.id = "dollar-box";
                    box.classList = "btc-dollar-wrapper wrapper";
                    box.innerHTML = scrapedBTCValue + " = " + amount.toFixed(2) + "$";
                    myParent.appendChild(box);
                    console.log(amount.toFixed(4));
                    setTimeout(() => {}, 3000)

                });
        }

        textBox();
    })();
</script>

</body>

</html>

<style>
    html {
        background: lightgrey;
    }

    .wrapper {
        padding: 10px;
        border-radius: 4px;
        background-color: darkslategray;
        font-size: 12px;
        margin-bottom: 20px;
        width: fit-content;
        color: white;
    }
</style>